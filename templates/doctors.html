{% extends "layout.html" %}{% block title %}医師から探す{% endblock %}{% block content %}<h2>医師から探す</h2><div class="search-box"><form method="get" action="{{ url_for('show_doctors') }}"><input type="text" name="q" placeholder="医師名で検索..." value="{{ search_query or '' }}"><label class="checkbox-label"><input type="checkbox" name="specialist" value="true" {% if specialist_only %}checked{% endif %} onchange="this.form.submit()">専門医のみ表示</label><button type="submit">検索</button></form></div><div class="results-list">{% for doctor in doctors %}<div class="result-item"><h3><a href="{{ url_for('show_doctor_detail', doctor_id=doctor.doctor_id) }}">{{ doctor.name }}</a> {% if doctor.is_specialist %} <span class="specialist-badge">専門医</span> {% endif %}</h3><p>所属: {{ doctor.institution_name or '情報なし' }}</p></div>{% else %}<p>該当する医師が見つかりませんでした。</p>{% endfor %}</div>{% if total_pages > 1 %}<nav class="pagination"><ul>{% if page > 1 %}<li><a href="{{ url_for('show_doctors', page=page-1, q=search_query, specialist='true' if specialist_only else 'false') }}">&laquo; 前へ</a></li>{% endif %}{% for p in range(1, total_pages + 1) %}<li class="{{ 'active' if p == page else '' }}"><a href="{{ url_for('show_doctors', page=p, q=search_query, specialist='true' if specialist_only else 'false') }}">{{ p }}</a></li>{% endfor %}{% if page < total_pages %}<li><a href="{{ url_for('show_doctors', page=page+1, q=search_query, specialist='true' if specialist_only else 'false') }}">&raquo; 次へ</a></li>{% endif %}</ul></nav>{% endif %}{% endblock %}
